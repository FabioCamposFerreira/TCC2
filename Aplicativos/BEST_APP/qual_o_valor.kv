#:kivy 2.1.0
# Author: Fábio Campos
# Construção do Layout do aplicativo com:
    # Tela principal (só a camera com um botão de configuração) e a imagem da câmera
    # Tela Configuração (apresenta opções de configuração

<ScreenCamera>:
    name: 'screen_camera'
    on_enter:self.event()
    on_pre_leave:self.event.cancel()
    BoxLayout:
        orientation:'vertical'
        Camera:
            id: camera
            index: 0
            resolution: (640,480)
            play: True
            keep_ratio: True
            allow_stretch: True
            canvas.before:
                PushMatrix
                Scale:
                    x:2
                    y:2
                    origin: self.center
                Rotate:
                    angle: -90
                    origin: self.center
            canvas.after:
                PopMatrix

    Button:
        id:botao_configuracao
        background_color:0,0,0,0
        size_hint_y: None
        size_hint_x: None
        width: 100
        heigth: 100
        pos_hint: {"right": 1, 'top':1}
        on_release: app.root.current = 'tela_de_configuracao'
        Image:
            source:'./imagens/configuracao_normal.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y 
    Label:
        id: valor
        text: '10'
        color: 1,1,0,0
        font_size: root.size[1]/3
        pos_hint: {"right": 1, 'top':1}
     

<TelaDeConfiguracao>
    name: 'tela_de_configuracao'
    BoxLayout:
        orientation: 'vertical'
        Button:
            text: 'Inverter Camera'
            on_release: root.camera_invert()
        Label:
            text: 'Versão\n 0.01'
        Button:
            text: "Voltar"
            size_hint_y: None
            height: 100
            on_release: app.root.current = 'screen_camera'

<GerenciadorDeTelas>
    ScreenCamera:
        name:"screen_camera"
    TelaDeConfiguracao:
        name:"tela_de_configuracao"    